# =============================================================================
# EJBCA-FastAPI - Configuration Production
# =============================================================================
# ⚠️ IMPORTANT: Copiez ce fichier en .env et remplacez les valeurs
# cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# BASE DE DONNÉES (MariaDB 10.6)
# -----------------------------------------------------------------------------
MARIADB_ROOT_PASSWORD=CHANGEME_ROOT_PASSWORD_HERE
MARIADB_DATABASE=ejbca
MARIADB_USER=ejbca
MARIADB_PASSWORD=CHANGEME_EJBCA_DB_PASSWORD_HERE

# Port exposé pour accès externe (optionnel, peut être supprimé en prod)
MARIADB_PORT=3307

# -----------------------------------------------------------------------------
# EJBCA CORE
# -----------------------------------------------------------------------------
# URL de connexion base de données
DATABASE_JDBC_URL=jdbc:mariadb://mariadb:3306/ejbca

# Mot de passe admin EJBCA (interface web https://localhost:8443/ejbca/adminweb/)
EJBCA_ADMIN_PASSWORD=CHANGEME_ADMIN_PASSWORD_HERE

# Authentification TLS
FORCE_CLIENTAUTH=true

# Audit logs en base de données
LOG_AUDIT_TO_DB=true

# Healthcheck HTTP (pour monitoring)
ENABLE_HEALTCHECK_OVER_HTTP=true

# -----------------------------------------------------------------------------
# CERTIFICAT API (Authentication)
# -----------------------------------------------------------------------------
# Utilisateur du certificat API
CERT_API_USERNAME=apiuser
CERT_API_PASSWORD=Marwa77233473

# Sujet du certificat
CERT_CN=API User
CERT_ORGANIZATION=EJBCA API
CERT_EMAIL=api@ejbca.local

# CA utilisée
CERT_CA_NAME=ManagementCA

# -----------------------------------------------------------------------------
# FASTAPI (Application)
# -----------------------------------------------------------------------------
# URL du WSDL SOAP
EJBCA_WSDL_URL=https://ejbca-ca:8443/ejbca/ejbcaws/ejbcaws?wsdl

# Host et port EJBCA
EJBCA_HOST=ejbca-ca
EJBCA_PORT=8443
EJBCA_PROTOCOL=https

# Port de l'API FastAPI
FASTAPI_PORT=8000

# Nombre de workers Uvicorn (production)
WORKERS=4

# -----------------------------------------------------------------------------
# RÉSEAU & SÉCURITÉ
# -----------------------------------------------------------------------------
# Domaine de production (si applicable)
DOMAIN=localhost

# Environnement
ENVIRONMENT=production

# -----------------------------------------------------------------------------
# MONITORING (Optionnel)
# -----------------------------------------------------------------------------
# Activer métriques Prometheus
ENABLE_METRICS=true

# Niveau de log
LOG_LEVEL=INFO
